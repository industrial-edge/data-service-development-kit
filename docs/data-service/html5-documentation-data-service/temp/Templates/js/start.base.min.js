/*
 *
 * (Copyright (C) Siemens AG 2015-2021. All rights reserved. confidential.
 *
 * Creator: BETZ 2020
 *
 */
var g_defaultLanguage="{Language}";var g_defaultPage="index.html";var g_debug=false;"use strict";(function(a){window.startpage=new function(){var b=this;b.historySupport=window.history.pushState!==undefined&&typeof window.history.pushState==="function";b.isHistoryCall=false;b.defaultLanguage=null;b.debug=g_debug;b.log=function(c){if(b.debug){console.log(c)}};b.init=function(){if(typeof(g_supportedGuiLanguages)=="undefined"||g_supportedGuiLanguages==null){b.log("init g_supportedGuiLanguages not available (check production)");window.location=g_defaultLanguage+"/"+g_defaultPage;return}b.defaultLanguage=b.getDefaultLanguage();b.initEventHashChange();b.checkHashAndNavigate()};b.initEventHashChange=function(){a(window).bind("hashchange",function(c){b.log("initEventHashChange: hashchanged");b.checkHashAndNavigate()})};b.checkHashAndNavigate=function(){var c=window.location.hash.substring(1);if(c&&c!=""){b.navigateTo(c)}else{b.navigateTo("")}};b.getPathOnly=function(e){var d=e.split("/");var c="";for(i=1;i<d.length-1;i++){c+=d[i];c+="/"}return c};b.formatLanguage=function(c){var d=null;if(c&&c.indexOf("-")>-1){b.log("formatLanguage from language:"+c);d=c.split("-");c=d[0].toLowerCase();c+="-"+d[1].toUpperCase();b.log("formatLanguage to language:"+c)}return c};b.navigateTo=function(d){var c=b.checkParameterFormatInHash(d);if(c.debug){b.debug=true}if(c&&c.language){var e=b.formatLanguage(c.language);b.log("navigateTo - parameter language:"+e);if(g_supportedGuiLanguages&&g_supportedGuiLanguages[e]){b.log("navigateTo - exists parameter language:"+e);b.defaultLanguage=e;b.log("navigateTo - self.defaultLanguage:"+b.defaultLanguage)}}if(g_supportedGuiLanguages&&g_supportedGuiLanguages[b.defaultLanguage]){var h=b.defaultLanguage+"/"+g_defaultPage;if(d){h+="#"+b.removeParamFromHash(d,"language")}var g="";b.log("navigateTo - redirect:"+h);if(window.location.protocol.toLowerCase().indexOf("http")>-1){var f=b.getPathOnly(window.location.pathname);b.log("navigateTo - >> Http Call - window.location.protocol:"+window.location.protocol);b.log("navigateTo - >> Http Call - window.location.host:"+window.location.host);g=window.location.protocol+"//"+window.location.host+"/"+f;g+=h;b.log("navigateTo - >> Http Call - newURL:"+g)}else{g=b.getPathOnly(window.location.pathname);g+=h;if(g.indexOf("%20")>0){g=g.replace(/%20/g," ")}if(g.indexOf("file://")==-1){g="file:///"+g}b.log("navigateTo - >> File Call - newURL:"+g)}if(b.debug){if(!confirm("Debugger-Stop: Wollen sie redirecten?")){return}}window.location=g}};b.checkParameterFormatInHash=function(c){var n=null;var k=null;var o=null;var m=null;var j=null;var p=null;var g=null;var l=true;var h=null;if(c){if(c||c.indexOf("&")>-1){b.log("checkParameterFormatInHash -hash:"+c);if(c.indexOf("&")>-1){h=c.split("&")}else{h=new Array();h[h.length]=c}if(h&&h.length){for(var d=0;d<h.length;d++){var f=h[d].split("=");var e=f[0];var q=f[1];if(e){switch(e.toLowerCase()){case"language":n=q;break;case"documentpublishname":k=q;break;case"mapid":o=q;break;case"htmlfilename":m=q;break;case"debug":j=(q&&q.toLowerCase()=="true");break;case"applicationid":g=q;break;case"treeid":p=q;break;case"hidestartpage":l=(q&&q.toLowerCase()==="true");break;default:b.log("checkParameterFormatInHash - parameter not supported:"+e);break}}}}}}return{language:n,documentPublishName:k,mapId:o,htmlFileName:m,debug:j,treeId:p,applicationId:g,hideStartpage:l}};b.getDefaultLanguage=function(){return g_defaultLanguage};b.removeParamFromHash=function(c,g){b.log("removeParamFromHash - hash:"+c);b.log("removeParamFromHash - parameter:"+g);var e="";var h=(c)?c.split("&"):null;if(h!=null){for(var d=0;d<h.length;d++){var f=h[d];if(f.toLowerCase().indexOf(g.toLowerCase())==0){b.log("removeParamFromHash - do nothing:"+f)}else{e+=(e=="")?f:"&"+f}}}return e}}})(window.jQuery);$(document).ready(function(){try{console.log("window.startpage.init()");$(function(){window.startpage.init()})}catch(a){window.location=g_defaultLanguage+"/"+g_defaultPage}});