topicarray["0e1dcf1f05f93a6ed503dcd31e6d802e"] = {"Html":"\u003c?xml version=\"1.0\" encoding=\"utf-16\"?\u003e\u003chtml xmlns:msxsl=\"urn:schemas-microsoft-com:xslt\"\u003e\u003cdiv class=\"main_body\"\u003e\u003cbr /\u003e\u003cdiv class=\"content_body\"\u003e\u003cdiv class=\"body_headline\" style=\"display:none;\"\u003e应用示例\u003c/div\u003e\u003cdiv class=\"expandable-container\" data-type=\"quintessence\"\u003e\u003cdiv class=\"h4 block-title header-object\" data-expandable=\"minus\"\u003e\u003cspan class=\"data-expandable\"\u003e描述\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"expandable-content\" style=\"display: block;\"\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​此应用示例专门介绍如何向客户的应用程序分配“Data Service”访问权限。\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​用户将创建用户、请求令牌并从应用程序获取 asset、变量和时间序列数据。\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​必须提前执行以下步骤：\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"expandable-container\" data-type=\"introduction\"\u003e\u003cdiv class=\"h4 block-title header-object\" data-expandable=\"minus\"\u003e\u003cspan class=\"data-expandable\"\u003e编译并执行\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"expandable-content\" style=\"display: block;\"\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​可在本地启动应用示例，也可通过 Docker 启动。\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​要\u003c/span\u003e\u003cspan class=\"b\"\u003e通过 Docker\u003c/span\u003e\u003cspan\u003e​ 启动应用示例，请按以下步骤操作：\u003c/span\u003e\u003c/div\u003e\u003col class=\"floating-text\"\u003e\u003cli\u003e\u003cdiv class=\"p default floating-text\"\u003e\u003cspan\u003e​在包含“\u003c/span\u003e\u003cspan\u003e​package.json\u003c/span\u003e\u003cspan\u003e​”文件的文件夹中打开命令行，并输入以下命令：\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"floating-text ul-container\"\u003e\u003cul class=\"line\"\u003e\u003cli\u003e\u003cdiv class=\"p default floating-text\"\u003e\u003cspan class=\"code\"\u003edocker-compose up\u003c/span\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ol\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​要\u003c/span\u003e\u003cspan class=\"b\"\u003e在本地\u003c/span\u003e\u003cspan\u003e​启动应用示例，请按以下步骤操作：\u003c/span\u003e\u003c/div\u003e\u003col class=\"floating-text\"\u003e\u003cli\u003e\u003cdiv class=\"p default floating-text\"\u003e\u003cspan\u003e​在包含“\u003c/span\u003e\u003cspan\u003e​package.json\u003c/span\u003e\u003cspan\u003e​”文件的文件夹中打开命令行，并输入以下命令：\u003c/span\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ol\u003e\u003cdiv class=\"floating-text ul-container\"\u003e\u003cul class=\"bullet\"\u003e\u003cli\u003e\u003cdiv class=\"p default floating-text\"\u003e\u003cspan class=\"code\"\u003enpm install\u003c/span\u003e\u003cspan\u003e​（会下载必要的 NodeJS 模块。）\u003c/span\u003e\u003c/div\u003e\u003c/li\u003e\u003cli\u003e\u003cdiv class=\"p default floating-text\"\u003e\u003cspan class=\"code\"\u003enpm run build\u003c/span\u003e\u003c/div\u003e\u003c/li\u003e\u003cli\u003e\u003cdiv class=\"p default floating-text\"\u003e\u003cspan class=\"code\"\u003enpm run start\u003c/span\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003cdiv class=\"safetycontainer inserted-object\"\u003e\u003ctable width=\"100%\" class=\"note\"\u003e\u003ctr valign=\"top\"\u003e\u003ctd colspan=\"3\" class=\"hint-headerContent\"\u003e\u003cp\u003e\u003cdiv style=\"display:table;\"\u003e\u003cdiv style=\"display:table-cell;vertical-align:middle;\"\u003e说明\u003c/div\u003e\u003c/div\u003e\u003c/p\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr class=\"hint-content\"\u003e\u003ctd class=\"emptyIcon\"\u003e\u003c/td\u003e\u003ctd class=\"emptyIcon\"\u003e\u003c/td\u003e\u003ctd class=\"hint-content-text\"\u003e\u003cdiv\u003e\u003cdiv class=\"subheading header-object\"\u003e\u003cspan\u003e执行示例\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​应用示例组态为通过 Docker 运行。要在本地执行，必须将 Data Service URL（第 17 行“\u003c/span\u003e\u003cspan class=\"code\"\u003e.\\client\\dataservice-client.ts\u003c/span\u003e\u003cspan\u003e​”）改为“\u003c/span\u003e\u003cspan class=\"code\"\u003ehttp://localhost:4203\u003c/span\u003e\u003cspan\u003e​”。\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd colspan=\"3\" class=\"hint-lower-line\"\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\u003c/div\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​在浏览器中使用本地主机“\u003c/span\u003e\u003cspan class=\"code\"\u003ehttps://localhost:5200\u003c/span\u003e\u003cspan\u003e​”启动应用程序。 \u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"expandable-container\" data-type=\"introduction\"\u003e\u003cdiv class=\"h4 block-title header-object\" data-expandable=\"minus\"\u003e\u003cspan class=\"data-expandable\"\u003e要求\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"expandable-content\" style=\"display: block;\"\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​Data Service\u003c/span\u003e\u003cspan\u003e​ 应用程序已执行，且 \u003c/span\u003e\u003cspan\u003e​Configuration UI\u003c/span\u003e\u003cspan\u003e​ 应处于运行状态；否则，访问以下路由时会提供不正确的连接。\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"expandable-container\" data-type=\"introduction\"\u003e\u003cdiv class=\"h4 block-title header-object\" data-expandable=\"minus\"\u003e\u003cspan class=\"data-expandable\"\u003e逻辑视图\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"expandable-content\" style=\"display: block;\"\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​逻辑表示分为以下部分：\u003c/span\u003e\u003c/div\u003e\u003cspan class=\"imagecontainer inserted-object has-no-image-title has-no-image-legend\"\u003e\u003cdiv class=\"box-before-thumbnail-box\"\u003e​\u003c/div\u003e\u003cimg src=\"images/143546897547_DV_resource.Stream@PNG-de-DE.png\" docVersionId=\"167072438667\" language=\"zh-CHS\" class=\"img_free\" data-type=\"fall3\" data-img-type=\"Screenshot\" data-original-height=\"382\" data-original-width=\"849\" data-resolution-x=\"200\" data-resolution-y=\"200\" id=\"167072438667_0e1dcf1f05f93a6ed503dcd31e6d802e_143546897547_DV_resource_ID0AMC0OC\" data-width=\"661\" /\u003e\u003c/span\u003e\u003cdiv class=\"floating-text ul-container\"\u003e\u003cul class=\"bullet\"\u003e\u003cli\u003e\u003cdiv class=\"p default floating-text\"\u003e\u003cspan\u003e​功能：路由在此处提供，大部分令牌集成和客户端通信任务均在此类中完成。\u003c/span\u003e\u003c/div\u003e\u003c/li\u003e\u003cli\u003e\u003cdiv class=\"p default floating-text\"\u003e\u003cspan\u003e​令牌管理器：每次调用时，都会从 Data Service 检索令牌。但建议在时间到期（30 分钟）之前暂时存储。通过令牌重新保存的请求最好在每次到期后执行。\u003c/span\u003e\u003c/div\u003e\u003c/li\u003e\u003cli\u003e\u003cdiv class=\"p default floating-text\"\u003e\u003cspan\u003e​Data Service 客户端：此类用于组态 Data Service URL 并建立连接。还会在此处管理 http 请求的授权文件头。\u003c/span\u003e\u003c/div\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"expandable-container\" data-type=\"introduction\"\u003e\u003cdiv class=\"h4 block-title header-object\" data-expandable=\"minus\"\u003e\u003cspan class=\"data-expandable\"\u003e创建用户和令牌管理\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"expandable-content\" style=\"display: block;\"\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​应用程序可通过用户访问 Data Service。该用户提供可用于调用 Data Service 的令牌。令牌的使用时限为 30 分钟（如果用户在该时间段保持可用）。执行用户创建和令牌管理时，请使用此功能 (/User/create) 以及令牌管理类 (getAuthorizationToken())。\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"expandable-container\" data-type=\"introduction\"\u003e\u003cdiv class=\"h4 block-title header-object\" data-expandable=\"minus\"\u003e\u003cspan class=\"data-expandable\"\u003eAsset、变量和时间序列信息\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"expandable-content\" style=\"display: block;\"\u003e\u003cdiv class=\"p p-default floating-text\"\u003e\u003cspan\u003e​可使用上文所述的令牌在 Data Service 中执行任何操作。会检索未到期的令牌并将其添加到请求文件头，以获取所有 asset 和变量的列表或每个所需 asset 和变量。通过此功能中提供的“getTimeSeries”方法调用时间序列信息。\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/html\u003e"}